import{_ as k}from"./BClogo-c299679b.js";import{g as h,h as g,i as b,r as n,o as C,c as B,a as c,b as s,w as o,d as p,j as F,E as v,k as R,p as U,f as I,_ as N}from"./index-0b685335.js";const S=i=>(U("data-v-260cf529"),i=i(),I(),i),q={class:"shell"},T={class:"BCLogo",style:{"padding-top":"5%"}},$=S(()=>c("img",{style:{width:"100px"},src:k},null,-1)),j={style:{"font-size":"60px",color:"#fefefe","text-shadow":"0 0 0.5em #00ffff, 0 0 0.2em #5c5c5c"},class:"BCName"},z=h({__name:"UserRegister",setup(i){g("default");const d=g(),t=b({name:"",email:"",password:""}),w=b({name:[{required:!0,message:"请输入名字",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),y=async l=>{if(!l)return console.error("错误");await l.validate((e,m)=>{e?F.post("bc208/register",{username:t.name,email:t.email,password:t.password}).then(function(a){a.data.code==2005?(v({message:"注册成功, 等待管理员确认, 即将回到初始页面.",type:"success"}),setTimeout(()=>{_.push("/")},4e3)):(v({message:"注册失败, 请重新尝试.",type:"success"}),setTimeout(()=>{_.push("/")},4e3),l.resetFields())}).catch(function(a){console.log(a)}):console.log("error submit!",m)})},x=l=>{l&&l.resetFields()},_=R;return(l,e)=>{const m=n("router-link"),a=n("el-input"),u=n("el-form-item"),f=n("el-button"),V=n("el-form");return C(),B("div",q,[c("div",T,[$,c("div",j,[s(m,{to:"/",class:"toIndex"},{default:o(()=>[p("BlockChain Studio 208")]),_:1})])]),s(V,{ref_key:"ruleFormRef",ref:d,model:t,rules:w,"label-width":"150px",class:"applicationForm","status-icon":"","label-position":"left"},{default:o(()=>[s(u,{label:"姓名",prop:"name"},{default:o(()=>[s(a,{modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=r=>t.name=r)},null,8,["modelValue"])]),_:1}),s(u,{label:"邮箱",prop:"email"},{default:o(()=>[s(a,{modelValue:t.email,"onUpdate:modelValue":e[1]||(e[1]=r=>t.email=r)},null,8,["modelValue"])]),_:1}),s(u,{label:"密码:",prop:"password"},{default:o(()=>[s(a,{modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=r=>t.password=r)},null,8,["modelValue"])]),_:1}),s(u,{class:"submitButton"},{default:o(()=>[s(f,{type:"primary",onClick:e[3]||(e[3]=r=>y(d.value))},{default:o(()=>[p(" 注册 ")]),_:1}),s(f,{type:"primary",onClick:e[4]||(e[4]=r=>x(d.value))},{default:o(()=>[p("重置内容")]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});const A=N(z,[["__scopeId","data-v-260cf529"]]);export{A as default};
