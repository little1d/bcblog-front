import{_ as G,h as f,r as d,o as J,c as M,a as o,b as e,w as t,u as l,F as $,j as g,d as c,t as m,D as E,p as R,f as U}from"./index-0b685335.js";const r=h=>(R("data-v-1aa37e75"),h=h(),U(),h),O={style:{width:"40%",float:"left",height:"100%"},class:"table"},P={style:{height:"55%"}},T=r(()=>o("div",{style:{"font-size":"smaller",height:"40px","line-height":"40px"}}," 待面试人名单 ",-1)),q={style:{height:"45%","margin-top":"0px"}},H=r(()=>o("div",{style:{"font-size":"smaller",height:"42px","line-height":"40px"}}," 已面试人名单 ",-1)),K={style:{width:"60%",float:"left",height:"100%"},class:"judge"},L={class:"applicationDetail"},Q=r(()=>o("div",{class:"cell-item"}," 名字 ",-1)),W=r(()=>o("div",{class:"cell-item"}," 年级 ",-1)),X=r(()=>o("div",{class:"cell-item"}," 邮箱 ",-1)),Y=r(()=>o("div",{class:"cell-item"}," 方向 ",-1)),Z=r(()=>o("div",{class:"cell-item"}," 简介 ",-1)),ee={class:"adminJudge",style:{"display, width":"50%","padding-top":"550px"}},te={__name:"ApplicationManage",setup(h){let w=f();const v=()=>{g.get("application/applications",{headers:{token:localStorage.getItem("token")}}).then(a=>{a.data.code==2002?w.value=a.data.result:alert("获取面试人信息失败")}).catch(function(a){console.log(a)})};v();let n=f(["","","","",""]);const k=a=>{g.get("application/loadDetail",{params:{userName:a},headers:{token:localStorage.getItem("token")}}).then(s=>{s.data.code==2002?n.value=s.data.result:alert("获取面试人信息失败")}).catch(function(s){console.log(s)})};let _=f({name:"",evaluate:"",type:0});const C=(a,s)=>{alert("正在提交面试结果..."),g.post("admin/judge",{userName:a,comments:s.evaluate,score:s.type},{headers:{token:localStorage.getItem("token")}}).then(i=>{i.data.code==2e3?(alert("面试评价成功."),console.log(i.data.msg)):alert("面试评价失败."),D(),v(),b()}).catch(function(i){console.log(i)})},D=()=>{n="",_=""};let I=f();const b=()=>{g.get("application/applicationsJudged",{headers:{token:localStorage.getItem("token")}}).then(a=>{a.data.code==2002?I.value=a.data.result:alert("获取面试人信息失败")}).catch(function(a){console.log(a)})};b();const S=a=>{k(a)};return setInterval(()=>{v(),b()},1e3*60*10),(a,s)=>{const i=d("el-table-column"),y=d("el-button"),N=d("el-table"),u=d("el-descriptions-item"),z=d("el-descriptions"),j=d("el-input"),x=d("el-form-item"),V=d("el-radio"),A=d("el-radio-group"),B=d("el-form");return J(),M($,null,[o("div",O,[o("div",P,[T,o("div",null,[e(N,{data:l(w),height:"600px",style:{width:"100%"}},{default:t(()=>[e(i,{prop:"userName",label:"名字"}),e(i,{prop:"userGrade",label:"年级"}),e(i,{prop:"userInterest",label:"方向"}),e(i,{fixed:"right",label:"操作"},{default:t(p=>[e(y,{link:"",type:"primary",size:"small",onClick:F=>k(p.row.userName)},{default:t(()=>[c("评价")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),o("div",q,[H,o("div",null,[e(N,{data:l(I),height:"490px",style:{width:"100%"}},{default:t(()=>[e(i,{prop:"userName",label:"Name"}),e(i,{prop:"userGrade",label:"grade"}),e(i,{prop:"userInterest",label:"type"}),e(i,{fixed:"right",label:"Operations"},{default:t(p=>[e(y,{link:"",type:"primary",size:"small",onClick:F=>S(p.row.userName)},{default:t(()=>[c("重新评价")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])]),o("div",K,[o("div",L,[e(z,{data:l(n),props:l(E),title:"面试人详情",column:2,border:"",style:{"font-size":"smaller",height:"0px","line-height":"40px",margin:"0"}},{default:t(()=>[e(u,{width:"100px"},{label:t(()=>[Q]),default:t(()=>[c(" "+m(l(n).userName),1)]),_:1}),e(u,{width:"100px"},{label:t(()=>[W]),default:t(()=>[c(" "+m(l(n).userGrade),1)]),_:1}),e(u,{width:"100px"},{label:t(()=>[X]),default:t(()=>[c(" "+m(l(n).userEmail),1)]),_:1}),e(u,{width:"100px"},{label:t(()=>[Y]),default:t(()=>[c(" "+m(l(n).userInterest),1)]),_:1}),e(u,{width:"100px"},{label:t(()=>[Z]),default:t(()=>[c(" "+m(l(n).userDescription)+" ",1)]),_:1})]),_:1},8,["data","props"])]),o("div",ee,[e(B,{data:l(n),"label-width":"120px"},{default:t(()=>[e(x,{label:"面试评价",prop:"evaluate",style:{width:"90%"}},{default:t(()=>[e(j,{modelValue:l(_).evaluate,"onUpdate:modelValue":s[0]||(s[0]=p=>l(_).evaluate=p),type:"textarea",autosize:{minRows:3,maxRows:8}},null,8,["modelValue"])]),_:1}),e(x,{label:"面试结果",prop:"type"},{default:t(()=>[e(A,{modelValue:l(_).type,"onUpdate:modelValue":s[1]||(s[1]=p=>l(_).type=p)},{default:t(()=>[e(V,{label:1},{default:t(()=>[c("通过")]),_:1}),e(V,{label:0},{default:t(()=>[c("不通过")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(x,null,{default:t(()=>[e(y,{type:"primary",onClick:s[2]||(s[2]=p=>C(l(n).userName,l(_)))},{default:t(()=>[c("提交")]),_:1})]),_:1})]),_:1},8,["data"])])])],64)}}},le=G(te,[["__scopeId","data-v-1aa37e75"]]);export{le as default};
