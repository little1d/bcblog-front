import{_ as k}from"./BClogo-c299679b.js";import{g as B,h as f,i as g,r as d,o as F,c as R,a as c,b as o,w as a,d as p,j as I,p as q,f as N,E as b,k as S,_ as U}from"./index-0b685335.js";const A=u=>(q("data-v-93fc1175"),u=u(),N(),u),M={class:"shell"},$={class:"BCLogo",style:{"padding-top":"5%"}},T=A(()=>c("img",{style:{width:"100px"},src:k},null,-1)),j={style:{"font-size":"60px",color:"#fefefe","text-shadow":"0 0 0.5em #00ffff, 0 0 0.2em #5c5c5c"},class:"BCName"},z=B({__name:"AdminRegister",setup(u){const V=S;f("default");const i=f(),t=g({name:"",email:"",password:"",authCode:""}),v=g({name:[{required:!0,message:"请输入名字",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],authCode:[{required:!0,message:"请找开发者获取",trigger:"blur"}]}),w=()=>{b({message:"注册成功, 正在跳转.",type:"success"}),setTimeout(()=>{V.push("/adminpage")},3e3)},C=()=>{b({message:"登录失败, 请重新尝试.",type:"error"})},y=async r=>{if(!r)return console.error("错误");await r.validate((e,m)=>{e?I.post("admin/register",{username:t.name,email:t.email,password:t.password,captcha:t.authCode}).then(function(l){l.data.code==2005?w():(C(),r.resetFields())}).catch(function(l){console.log(l)}):console.log("error submit!",m)})},h=r=>{r&&r.resetFields()};return(r,e)=>{const m=d("router-link"),l=d("el-input"),n=d("el-form-item"),_=d("el-button"),x=d("el-form");return F(),R("div",M,[c("div",$,[T,c("div",j,[o(m,{to:"/",class:"toIndex"},{default:a(()=>[p("BlockChain Studio 208")]),_:1})])]),o(x,{ref_key:"ruleFormRef",ref:i,model:t,rules:v,"label-width":"150px",class:"applicationForm","status-icon":"","label-position":"left"},{default:a(()=>[o(n,{label:"姓名",prop:"name"},{default:a(()=>[o(l,{modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=s=>t.name=s)},null,8,["modelValue"])]),_:1}),o(n,{label:"邮箱",prop:"email"},{default:a(()=>[o(l,{modelValue:t.email,"onUpdate:modelValue":e[1]||(e[1]=s=>t.email=s)},null,8,["modelValue"])]),_:1}),o(n,{label:"密码:",prop:"password"},{default:a(()=>[o(l,{modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=s=>t.password=s)},null,8,["modelValue"])]),_:1}),o(n,{label:"验证码:",prop:"authCode"},{default:a(()=>[o(l,{modelValue:t.authCode,"onUpdate:modelValue":e[3]||(e[3]=s=>t.authCode=s)},null,8,["modelValue"])]),_:1}),o(n,{class:"submitButton"},{default:a(()=>[o(_,{type:"primary",onClick:e[4]||(e[4]=s=>y(i.value))},{default:a(()=>[p(" 注册 ")]),_:1}),o(_,{type:"primary",onClick:e[5]||(e[5]=s=>h(i.value))},{default:a(()=>[p("重置内容")]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});const E=U(z,[["__scopeId","data-v-93fc1175"]]);export{E as default};
